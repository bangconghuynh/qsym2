# Symmetry group detection

=== "YAML"
    === "Parameter specification"
        ```yaml
        symmetry_group_detection: !Parameters
          moi_thresholds:
          - 1e-2
          - 1e-4
          - 1e-6
          distance_thresholds:
          - 1e-2
          - 1e-4
          - 1e-6
          time_reversal: false
          fictitious_magnetic_fields: #(1)!
          - [[0, 0, 0], [0, 0, 1]]
          fictitious_electric_fields: null #(2)!
          field_origin_com: true #(3)!
          write_symmetry_elements: false
          result_save_name: null
        ```

        1. Each element in this optional list is a tuple consisting of an origin $\mathbf{O}$ and a vector $\mathbf{v}$, for which a `magnetic(+)` special atom will be added at $\mathbf{O} + \mathbf{v}$, and a `magnetic(-)` special atom will be added at $\mathbf{O} - \mathbf{v}$.
        2. Each element in this optional list is a tuple consisting of an origin $\mathbf{O}$ and a vector $\mathbf{v}$, for which an `electric(+)` special atom will be added at $\mathbf{O} + \mathbf{v}$.
        3. This boolean indicates if the origins specified in `fictitious_magnetic_fields` and `fictitious_electric_fields` are to be taken relative to the molecule's centre of mass rather than to the space-fixed origin.

    === "Read from file"
        ```yaml
        symmetry_group_detection: !FromFile
          /path/to/symmetry/result/file #(1)!
        ```

        1. This path points to a `.qsym2.sym` file generated by QSym² from an earlier symmetry group detection calculation. However, this path should be specified without the `.qsym2.sym` extension.</br>For example, if QSym² has generated the file `~/calc/water/h2o.qsym2.sym`, then this path should be `~/calc/water/h2o`.

=== "Python"
    ```python
    unisym, magsym = detect_symmetry_group(
        inp_xyz=None,
        inp_mol=pymol,
        out_sym="mol",
        moi_thresholds=moi_thresholds,
        distance_thresholds=distance_thresholds,
        time_reversal=False,
        write_symmetry_elements=True,
        fictitious_magnetic_field=None,
        fictitious_electric_field=None
    )
    ```
